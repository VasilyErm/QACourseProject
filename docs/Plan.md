# **<u>План автоматизации:</u>**

## **<u>1. Перечень автоматизируемых сценариев:</u>**

#### Тестовые данные:
  - Сервис обрабатывает только специальные номера карт, которые даны для тестирования:
    - APPROVED карта — 1111 2222 3333 4444
    - DECLINED карта — 5555 6666 7777 8888

### Предусловие для автотестов:
 - В браузере открыт веб-сервис "Путешествие дня", по [ссылке](http://localhost/8080/)
-----------------------------------------------------------------------------------------------------

### <u>Позитивные сценарии тестирования покупки тура через форму обычной оплаты:</u>

#### Сценарий 1. Валидная оплата APPROVED картой:
- Нажать кнопку "Купить".
- В поле "Номер карты" ввести APPROVED карту "1111 2222 3333 4444".
- В поле "Месяц" ввести валидное значение из цифр в формате "хх".
- В поле "Год" ввести валидное значение из цифр в формате "хх".
- В поле "Владелец" ввсети валидное значение на латинице.
- В поле "CVC/CVV" ввсети валидное значение из цифр в формате "ххх".
- Нажать кнопку "Продолжить".
- Ответ с сервера- код 200

###### Ожидаемый результат: Появилось всплывающее информационное окно "Успешно. Операция одобрена Банком."

#### Сценарий 2. Валидная оплата DECLINED картой:
- Нажать кнопку "Купить".
- В поле "Номер карты" ввести APPROVED карту "5555 6666 7777 8888".
- В поле "Месяц" ввести валидное значение из цифр в формате "хх".
- В поле "Год" ввести валидное значение из цифр в формате "хх".
- В поле "Владелец" ввсети валидное значение на латинице.
- В поле "CVC/CVV" ввсети валидное значение из цифр в формате "ххх".
- Нажать кнопку "Продолжить".
- Ответ с сервера- код 200

###### Ожидаемый результат: Появилось всплывающее информационное окно "Отказ. Операция не одобрена Банком."

-----------------------------------------------------------------------------------------------------
## <u>Негативные сценарии тестирования покупки тура через форму обычной оплаты:</u>

#### Сценарий 3. Оплата картой с не зарегестрированным номером:
- В поле "Номер карты" ввести не валидные данные из цифр в формате "хххх хххх хххх хххх".

###### Ожидаемый результат: Появилось всплывающее информационное окно "Ошибка! Банк отказал в проведении операции."

#### Сценарий 4. Оплата картой с не полным номером:
- В поле "Номер карты" ввести не валидные данные из цифр в формате "хххх хх".

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат"

#### Сценарий 4. Оплата картой с не заполненным номером карты:
- Оставить поле "Номер карты" не заполненным.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат"

#### Сценарий 5. Оплата APPROVED картой с истекшим сроком службы по месяцу:
- В поле "Месяц" ввести предидущий месяц от текущего в формате "хх".
- В поле "Год" ввести текущий год в формате "хх".
- 
###### Ожидаемый результат: появилось сообщение об ошибке "Неверно указан срок действия карты".

#### Сценарий 6. Оплата APPROVED картой с месяцем болше 12:
- В поле "Месяц" ввести месяц болше 12 в формате "хх".

###### Ожидаемый результат: появилось сообщение об ошибке "Неверно указан срок действия карты".

#### Сценарий 7. Оплата APPROVED картой с месяцем из одной цифры:
- В поле "Месяц" ввести цифру от 1 до 9 в формате "х".

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 8. Оплата APPROVED картой с месяцем из одгого нуля:
- В поле "Месяц" ввести 0.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 9. Оплата APPROVED картой с месяцем из двух нулей:
- В поле "Месяц" ввести 00.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверно указан срок действия карты".

#### Сценарий 4. Оплата картой с не заполненным полем "Месяц":
- Оставить поле "Месяц" не заполненным.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат"

#### Сценарий 10. Оплата APPROVED картой с месяцем из двух нулей и годом следующим от текущего:
- В поле "Месяц" ввести 00.
- В поле "Год" ввести следующий от текущего год в формате "хх".

###### Ожидаемый результат: появилось сообщение об ошибке "Неверно указан срок действия карты".

#### Сценарий 11. Оплата APPROVED картой с истекшим сроком службы по году:
- В поле "Год" ввести предидущий год от текущего в формате "хх".

###### Ожидаемый результат: появилось сообщение об ошибке "Истёк срок действия карты".

#### Сценарий 12. Оплата APPROVED картой со сроком службы на шесть лет больше от текущего года:
- В поле "Год" ввести год, на шесть лет больше от текущего года в формате "хх".

###### Ожидаемый результат: появилось сообщение об ошибке "Неверно указан срок действия карты".

#### Сценарий 13. Оплата APPROVED картой с годом из одной цифры:
- В поле "год" ввести цифру от 1 до 9 в формате "х".

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 14. Оплата APPROVED картой с годом из одгого нуля:
- В поле "Год" ввести 0.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 15. Оплата APPROVED картой с годом из двух нулей:
- В поле "Год" ввести 00.

###### Ожидаемый результат: появилось сообщение об ошибке "Истёк срок действия карты".

#### Сценарий 4. Оплата картой с не заполненным полем "Год":
- Оставить поле "Год" не заполненным.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат"

#### Сценарий 16. Оплата APPROVED картой, в поле "Владелец" имя из цифр:
- В поле "Владелец" ввсети не валидное значение из цифр.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 17. Оплата APPROVED картой, в поле "Владелец" имя из спец. символов:
- В поле "Владелец" ввсети не валидное значение из спец. символов.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 18. Оплата APPROVED картой, в поле "Владелец" имя из одной буквы:
- В поле "Владелец" ввсети не валидное значение из одной буквы на латинице.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 4. Оплата картой с не заполненным полем "Владелец":
- Оставить поле "Владелец" не заполненным.

###### Ожидаемый результат: появилось сообщение об ошибке "Поле обязательно для заполнения".

#### Сценарий 19. Оплата APPROVED картой, "CVC/CVV" состоит из одной цифры:
- В поле "CVC/CVV" ввсети не валидное значение из одной цифры от 1 до 9.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 20. Оплата APPROVED картой, "CVC/CVV" состоит из двух цифр:
- В поле "CVC/CVV" ввсети не валидное значение из двух цифр от 1 до 9.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 21. Оплата APPROVED картой, "CVC/CVV" состоит из одной цифры 0:
- В поле "CVC/CVV" ввсети не валидное значение из одной цифры 0.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 22. Оплата APPROVED картой, "CVC/CVV" состоит из двух цифр 0:
- В поле "CVC/CVV" ввсети не валидное значение из двух цифр 0.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 23. Оплата APPROVED картой, "CVC/CVV" состоит из трех цифр 0:
- В поле "CVC/CVV" ввсети не валидное значение из трех цифр 0.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 4. Оплата картой с не заполненным полем "CVC/CVV":
- Оставить поле "CVC/CVV" не заполненным.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 24. Оплата с не заполненными полями:
- Нажать кнопку "Купить".
- Не заполняя поля нажать кнопку "Продолжить".

###### Ожидаемый результат: появились сообщения об ошибке:
- В поле "Номер карты" - "Неверный формат"
- В поле "Месяц" - "Неверный формат"
- В поле "Год" - "Неверный формат"
- В поле "Владелец" - "Поле обязательно для заполнения"
- В поле "CVC/CVV" - "Неверный формат"

-----------------------------------------------------------------------------------------------------

## <u>Позитивные сценарии тестирования покупки тура через форму покупки в кредит:</u>

#### Сценарий 25. Валидная оплата в кредит APPROVED картой:
- Нажать кнопку "Купить в кредит".
- В поле "Номер карты" ввести APPROVED карту "1111 2222 3333 4444".
- В поле "Месяц" ввести валидное значение из цифр в формате "хх".
- В поле "Год" ввести валидное значение из цифр в формате "хх".
- В поле "Владелец" ввсети валидное значение на латинице.
- В поле "CVC/CVV" ввсети валидное значение из цифр в формате "ххх".
- Нажать кнопку "Продолжить".
- Ответ с сервера- код 200

###### Ожидаемый результат: Появилось всплывающее информационное окно "Успешно. Операция одобрена Банком."

#### Сценарий 26. Валидная оплата в кредит DECLINED картой:
- Нажать кнопку "Купить в кредит".
- В поле "Номер карты" ввести APPROVED карту "5555 6666 7777 8888".
- В поле "Месяц" ввести валидное значение из цифр в формате "хх".
- В поле "Год" ввести валидное значение из цифр в формате "хх".
- В поле "Владелец" ввсети валидное значение на латинице.
- В поле "CVC/CVV" ввсети валидное значение из цифр в формате "ххх".
- Нажать кнопку "Продолжить".
- Ответ с сервера- код 200

###### Ожидаемый результат: Появилось всплывающее информационное окно "Отказ. Операция не одобрена Банком."

-----------------------------------------------------------------------------------------------------
## <u>Негативные сценарии тестирования покупки тура через форму оплаты в кредит:</u>

#### Сценарий 27. Покупка в кредит, картой с не зарегестрированным номером:
- В поле "Номер карты" ввести не валидные данные из цифр в формате "хххх хххх хххх хххх".

###### Ожидаемый результат: Появилось всплывающее информационное окно "Ошибка! Банк отказал в проведении операции."

#### Сценарий 28. Покупка в кредит картой с не полным номером:
- В поле "Номер карты" ввести не валидные данные из цифр в формате "хххх хх".

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат"

#### Сценарий 29. Покупка в кредит APPROVED картой с истекшим сроком службы по месяцу:
- В поле "Месяц" ввести предидущий месяц от текущего в формате "хх".
- В поле "Год" ввести текущий год в формате "хх".

###### Ожидаемый результат: появилось сообщение об ошибке "Неверно указан срок действия карты".

#### Сценарий 30. Покупка в кредит APPROVED картой с месяцем больше 12:
- В поле "Месяц" ввести месяц больше 12 в формате "хх".

###### Ожидаемый результат: появилось сообщение об ошибке "Неверно указан срок действия карты".

#### Сценарий 31. Покупка в кредит APPROVED картой с месяцем из одной цифры:
- В поле "Месяц" ввести цифру от 1 до 9 в формате "х".

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 32. Покупка в кредит APPROVED картой с месяцем из одгого нуля:
- В поле "Месяц" ввести 0.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 33. Покупка в кредит APPROVED картой с месяцем из двух нулей:
- В поле "Месяц" ввести 00.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверно указан срок действия карты".

#### Сценарий 34. Покупка в кредит APPROVED картой с месяцем из двух нулей и годом следующим от текущего:
- В поле "Месяц" ввести 00.
- В поле "Год" ввести следующий от текущего год в формате "хх".

###### Ожидаемый результат: появилось сообщение об ошибке "Неверно указан срок действия карты".

#### Сценарий 35. Покупка в кредит APPROVED картой с истекшим сроком службы по году:
- В поле "Год" ввести предидущий год от текущего в формате "хх".

###### Ожидаемый результат: появилось сообщение об ошибке "Истёк срок действия карты".

#### Сценарий 36. Покупка в кредит APPROVED картой со сроком службы на шесть лет больше от текущего года:
- В поле "Год" ввести год, на шесть лет больше от текущего года в формате "хх".

###### Ожидаемый результат: появилось сообщение об ошибке "Неверно указан срок действия карты".

#### Сценарий 37. Покупка в кредит APPROVED картой с годом из одной цифры:
- В поле "год" ввести цифру от 1 до 9 в формате "х".

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 38. Покупка в кредит APPROVED картой с годом из одгого нуля:
- В поле "Год" ввести 0.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 39. Покупка в кредит APPROVED картой с годом из двух нулей:
- В поле "Год" ввести 00.

###### Ожидаемый результат: появилось сообщение об ошибке "Истёк срок действия карты".

#### Сценарий 40. Покупка в кредит APPROVED картой, в поле "Владелец" имя из цифр:
- В поле "Владелец" ввсети не валидное значение из цифр.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 41. Покупка в кредит APPROVED картой, в поле "Владелец" имя из спец. символов:
- В поле "Владелец" ввсети не валидное значение из спец. символов.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 42. Покупка в кредит APPROVED картой, в поле "Владелец" имя из одной буквы:
- В поле "Владелец" ввсети не валидное значение из одной буквы на латинице.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 43. Покупка в кредит APPROVED картой, "CVC/CVV" состоит из одной цифры:
- В поле "CVC/CVV" ввсети не валидное значение из одной цифры от 1 до 9.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 44. Покупка в кредит APPROVED картой, "CVC/CVV" состоит из двух цифр:
- В поле "CVC/CVV" ввсети не валидное значение из двух цифр от 1 до 9.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 45. Покупка в кредит APPROVED картой, "CVC/CVV" состоит из одной цифры 0:
- В поле "CVC/CVV" ввсети не валидное значение из одной цифры 0.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 46. Покупка в кредит APPROVED картой, "CVC/CVV" состоит из двух цифр 0:
- В поле "CVC/CVV" ввсети не валидное значение из двух цифр 0.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 47. Покупка в кредит APPROVED картой, "CVC/CVV" состоит из трех цифр 0:
- В поле "CVC/CVV" ввсети не валидное значение из трех цифр 0.

###### Ожидаемый результат: появилось сообщение об ошибке "Неверный формат".

#### Сценарий 48. Покупка в кредит с не заполненными полями:
- Нажать кнопку "Купить в кредит".
- Не заполняя поля нажать кнопку "Продолжить".

###### Ожидаемый результат: появились сообщения об ошибке:
- В поле "Номер карты" - "Неверный формат"
- В поле "Месяц" - "Неверный формат"
- В поле "Год" - "Неверный формат"
- В поле "Владелец" - "Поле обязательно для заполнения"
- В поле "CVC/CVV" - "Неверный формат"

-----------------------------------------------------------------------------------------------------
## **<u>2. Перечень используемых инструментов с обоснованием выбора:</u>**
- Google chrome - браузер
- Java 11 - язык програмированния
- Docker Desktop - программа для создания контейнеров
- DBeaver - программа для работы с СУБД
- IntelliJ IDEA - программа для написания автотестов
    - Gradle - сборка проэкта на языке Java
    - Selenide - фреймворк для автотестирования
    - Rest Assured - библиотека для автотестирования
    - MySQL - система управления базами данных
    - Lombok - инструмент для сокращения кода
    - Faker - библиотека генерации пользовательских данных
    - DbUtils - библиотека классов для получения более чистого кода
    - Gson - библиотека позволяет конвертировать java объекты в их JSON представление
    - Allure - создание информативных отчетов о результатах тестирования
- AppVeyor CI - веб-сервис непрерывной интеграции, предназначенный для сборки и тестирования программного обеспечения расположенного на GitHub
- Git и GitHub - инструмент для командной работы

-----------------------------------------------------------------------------------------------------
## **<u>3. Перечень и описание возможных рисков при автоматизации:</u>**
- Автотесты могут стать не актуальны при изменение структуры сайта и будут требовать доработки
- Отсутствие тестовых меток, может усложнить привязку к CSS селекторам

-----------------------------------------------------------------------------------------------------
## **<u>4. Интервальная оценка с учётом рисков в часах:</u>**
- На выполнение данной работы потребуется 40 часов, 5 рабочих дней

-----------------------------------------------------------------------------------------------------
## **<u>5. План сдачи работ: когда будут проведены автотесты, результаты их проведения и отчёт по автоматизации:</u>**
- На выполнение автотестов потребуется 32 часа, 4 рабочих дня
- На результаты их проведения и отчёт по автоматизации 4 часа, 0.5 рабочих дней
- Заполнение баг репортов 4 часа, 0.5 рабочих дней